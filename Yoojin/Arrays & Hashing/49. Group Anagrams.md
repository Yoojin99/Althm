# 49. Group Anagrams

```swift
import Foundation

class Solution {
    /*
     아나그램인지 확인하려면? 특정 단어마다 어떤 요소로 포함되어 있는지 해시값같은 걸로 구분하면 strs 배열을 돌면서 해시값 같은 걸 생성하고 아나그램끼리 묶을 수 있을 듯
     
     e.g. a4b1
     단어 별 아나그램 해시값 생성
     1. 단어 내 문자의 개수 파악 - [a:4, b:1] time O(100) space O(24)
     2. key, value 정렬해서 문자열 생성 time O(24) space(48)
     -> 총 time O(100) space(48) 정도
     
     K 가장 긴 단어 길이
     N str count
     time : O(K*N)
     space : O(N*K)
     
     단어가 총 10^4 개. time O(10^6)
     전체 아나그램 딕셔너리 [아나그램 해시값 : [단어들]]
     space O(10^6)
     */
    // 96ms 18.86
    func createAnagramHashValue1(_ string: String) -> String {
        var dict = [Character:Int]()
        
        for letter in string {
            dict[letter, default: 0] += 1
        }
        
        let hashString = dict.sorted(by: { $0.key < $1.key }).map{ "\($0.key)\($0.value)" }.joined()
        return hashString
    }
    
    /*
     각 단어별로 a:1 count dict 생성
     그 dict 자체를 hash 값으로 사용 // dict 는 넘 복잡하다
     // dict 로 할 수 있기는 하지만 letter 임을 감안해서
     // 26 길이 배열로 만들기
     time : O(K*N)
     space : O(N*K)
     
     근데 리트코드를 돌리니 별도로 이렇게 함수를 빼기보다는 걍 한 함수 안에서 처리하는게 시간이 더 빠른듯?
     */
    // 각 단어 별
    func createAnagramHashValue(_ string: String) -> [Int] {
        let aAsciiValue = Int(Character("a").asciiValue ?? 97)
        var letterCountArray = Array(repeating: 0, count: 26)
        
        for letter in string {
            letterCountArray[Int(letter.asciiValue!) - aAsciiValue] += 1
        }
        
        return letterCountArray
    }
    
    // anagram 끼리 묶기.
    func groupAnagrams(_ strs: [String]) -> [[String]] {
        var result = [[Int]:[String]]()
        
        for str in strs {
            let hashValue = createAnagramHashValue(str)
            
            result[hashValue, default: []].append(str)
        }
        
        return Array(result.values)
    }
    
    // 한줄짜리 solution
    /*
     time : O(KlogK * N)
     space : O(N*K)
     */
    // 68ms, 18.43 -> swift 기본 제공 라이브러리 함수의 위엄
    func groupAnagrams(_ strs: [String]) -> [[String]] {
        Dictionary(grouping: strs, by: { String($0.sorted()) }).values.map{ $0 }
    }
}
```